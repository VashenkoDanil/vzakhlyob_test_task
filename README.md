## Тестовое задание “Взахлёб
Написать сервис (REST API), который позволяет сохранять и отдавать пользовательские истории. 

Каждая история представляет собой набор следующих полей: 
 - идентификатор 
 - заголовок 
 - автор 
 - обложка

Каждая история содержит в себе несколько эпизодов. Эпизод - отдельная сущность с полями:
 - идентификатор
 - номер эпизода
 - текст

## Требования к сервису:
1. HTTP endpoint’ы для CRUD операций с историей
2. HTTP endpoint’ы для CRUD операций с эпизодами
3. Отдельный endpoint для добавления обложки к истории

    *Обложка для каждой истории должна быть релевантна тексту. Поиск обложек организовать с использованием любого сервиса картинок со свободной лицензией, имеющих открытый API с возможностью поиска картинок по текстовому запросу. Из примеров: Pixabay, Unsplash. Как именно вытаскивать из текста ключевые слова для поиска обложки - на ваше усмотрение: в рамках этого задания не требуется добиться превосходного подбора, а лишь обозначить сам ключевой механизм и организовать код таким образом, чтобы решение можно было обслуживать, усовершенствовать или заменить полностью. Организовывать хранение картинок не обязательно, если вы можете получить от сервиса, где вы их ищете, постоянную ссылку.*
4. Отдельный endpoint для поиска эпизодов по заданной строке. Должен выдать список всех эпизодов, у которых искомая строка содержится в поле “текст” или в заголовке истории, к которой принадлежит эпизод
5. СУБД любая на ваше усмотрение
6. Любой Python или NodeJS фреймворк на ваше усмотрение
7. Все контейнеризовать с помощью docker / docker-compose
8. (Дополнительное, необязательное) Сделать простой web-интерфейс для описанных выше операций, с использованием любых технологий /  фреймворков
9. Наличие тестов приветствуется.
10. Код положить в публичный репозиторий (github, gitlab).

***

## **Установка:**
1) Установка python3.9
2) Установить переменные окружения или создать файл `.env` в корне проекта и установить переменные в нем(Пример `.env.example` в корне проекта). 
   
    Обязательные переменные:
    - PIXABAY_URL - ссылка к api pixabay
    - PIXABAY_KEY - ключь полученый после регистрации на pixabay
3) Создать виртуальное окружение и установить необходимые библиотеки:
   
    `python3.9 -m venv venv`
   
    `source venv/bin/activate`
   
    `pip install -r requirements.txt`
4) Запустить миграции:
   
    `python manage.py migrate`

***

## **Описание для запуска проекта через docker:**
Команда для запуска сервера:
`docker run -p 8000:8000 vashenkod/vzakhlyob_test_task`
по умолчанию в базе данных создан супер пользователь с логином: `admin`, пароль `123`
***

## **Описание проекта и endpoint’ы**
1) HTTP endpoint’ы для CRUD операций с историей
    - GET `http://127.0.0.1:8000/story/` - получения списка всех историй
    - POST `http://127.0.0.1:8000/story/` - создание новой истории
    - GET `http://127.0.0.1:8000/story/{id_story}/` - получения информации по конкретной истории, где `id_story` это идентификатор конкретной истории
    - PUT `http://127.0.0.1:8000/story/{id_story}` - обновить информацию по конкретной истории, где `id_story` это идентификатор конкретной истории
    - DELETE `http://127.0.0.1:8000/story/{id_story}` - удалить историю, где `id_story` это идентификатор конкретной истории
2) HTTP endpoint’ы для CRUD операций с эпизодами
    - GET `http://127.0.0.1:8000/story/{id_story}/episode/?query={search_string}` - получения списка всех эпизодов у конкретной истории, где `id_story` это идентификатор конкретной истории, а `search_string` строка для фильтрации эпизодов, у которой искомая строка содержится в поле "текст" или в заголовке истории, к которой принадлежит эпизод
    - POST `http://127.0.0.1:8000/story/{id_story}/episode/` - создание нового эпизода, где `id_story` это идентификатор конкретной истории
    - GET `http://127.0.0.1:8000/story/{id_story}/episode/{id_episode}/` - получения информации по конкретному эпизоду, где `id_story` это идентификатор конкретной истории, а `id_episode` это идентификатор конкретного эпизода
    - PUT `http://127.0.0.1:8000/story/{id_story}/episode/{id_episode}/` - обновить информацию по конкретному эпизоду, где `id_story` это идентификатор конкретной истории, а `id_episode` это идентификатор конкретного эпизода
    - DELETE `http://127.0.0.1:8000/story/{id_story}/episode/{id_episode}/` - удалить эпизод, где `id_story` это идентификатор конкретной истории, а `id_episode` это идентификатор конкретного эпизода

   ###или

    - GET `http://127.0.0.1:8000/story/episodes/?query={search_string}` - получения списка всех эпизодов, где `search_string` строка для фильтрации эпизодов, у которой искомая строка содержится в поле "текст" или в заголовке истории, к которой принадлежит эпизод
    - POST `http://127.0.0.1:8000/story/episodes/` - создание нового эпизода
    - GET `http://127.0.0.1:8000/story/episodes/{id_episode}/` - получения информации по конкретному эпизоду, где `id_episode` это идентификатор конкретного эпизода
    - PUT `http://127.0.0.1:8000/story/episodes/{id_episode}/` - обновить информацию по конкретному эпизоду, где `id_episode` это идентификатор конкретного эпизода
    - DELETE `http://127.0.0.1:8000/story/episodes/{id_episode}/` - удалить эпизод, где `id_episode` это идентификатор конкретного эпизода

3) HTTP endpoint для добавления обложки к истории
    - GET `http://127.0.0.1:8000/api/search-images/?q={search_string}/` - поиск ссылок на картинки в Pixabay, где search_string строка поиска(Пример: `autumn+river`)

4) HTTP endpoint админки
    - `http://127.0.0.1:8000/admin/`